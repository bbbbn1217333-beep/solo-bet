<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<title>ì†”ë­ ë‚´ê¸° ì†¡ì¶œ íŒ¨ë„</title>

<link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@400;600;700&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<style>
* {
  box-sizing: border-box;
  font-family: 'Pretendard', sans-serif;
}

body {
  margin: 0;
  background: #000;
  color: #fff;
}

.container {
  display: flex;
  gap: 20px;
  padding: 20px;
}

.team {
  width: 50%;
  background: #111;
  border-radius: 14px;
  padding: 16px;
}

.red { border: 2px solid #ff4d4d; }
.blue { border: 2px solid #4da6ff; }

.team-title {
  text-align: center;
  font-size: 28px;
  font-weight: 800;
  margin-bottom: 12px;
}

.red .team-title { color: #ff4d4d; }
.blue .team-title { color: #4da6ff; }

table {
  width: 100%;
  border-collapse: collapse;
}

th {
  font-size: 16px;
  font-weight: 600;
  padding-bottom: 8px;
}

.red th.streamer { color: #ff4d4d; }
.blue th.streamer { color: #4da6ff; }

th.win, th.lose {
  color: #aaa;
}

td {
  padding: 8px 6px;
  text-align: center;
  font-size: 18px;
}

td.name {
  text-align: left;
  padding-left: 10px;
  color: #fff;
  font-weight: 600;
}

/* ğŸ”¥ 0ìŠ¹ 0íŒ¨ í‘œì‹œ ì˜ì—­ */
.score-box {
  display: inline-block;
  padding: 4px 10px;
  border-radius: 10px;
  background: #1a1a1a;
  color: #ffd700;
  font-weight: 700;
}

/* â­ í•­ìƒ ë°˜ì§ */
.sparkle {
  animation: glow 1.6s infinite alternate;
}

@keyframes glow {
  from {
    box-shadow: 0 0 6px rgba(255, 215, 0, 0.4);
  }
  to {
    box-shadow: 0 0 14px rgba(255, 215, 0, 0.9);
  }
}
</style>
</head>

<body>

<div class="container">

  <!-- RED TEAM -->
  <div class="team red">
    <div class="team-title" id="redTeamName">RED TEAM</div>
    <table>
      <thead>
        <tr>
          <th class="streamer">ìŠ¤íŠ¸ë¦¬ë¨¸</th>
          <th class="win">ìŠ¹ë¦¬</th>
          <th class="lose">íŒ¨ë°°</th>
        </tr>
      </thead>
      <tbody id="redBody"></tbody>
    </table>
  </div>

  <!-- BLUE TEAM -->
  <div class="team blue">
    <div class="team-title" id="blueTeamName">BLUE TEAM</div>
    <table>
      <thead>
        <tr>
          <th class="streamer">ìŠ¤íŠ¸ë¦¬ë¨¸</th>
          <th class="win">ìŠ¹ë¦¬</th>
          <th class="lose">íŒ¨ë°°</th>
        </tr>
      </thead>
      <tbody id="blueBody"></tbody>
    </table>
  </div>

</div>

<script>
const supabase = window.supabase.createClient(
  'YOUR_SUPABASE_URL',
  'YOUR_SUPABASE_ANON_KEY'
);

function render(players) {
  const red = document.getElementById('redBody');
  const blue = document.getElementById('blueBody');

  red.innerHTML = '';
  blue.innerHTML = '';

  players.forEach(p => {
    const tr = document.createElement('tr');
    tr.innerHTML = `
      <td class="name">${p.nickname}</td>
      <td>
        <div class="score-box sparkle">${p.win}ìŠ¹</div>
      </td>
      <td>
        <div class="score-box sparkle">${p.lose}íŒ¨</div>
      </td>
    `;

    if (p.team === 'RED') red.appendChild(tr);
    if (p.team === 'BLUE') blue.appendChild(tr);
  });
}

async function load() {
  const { data: players } = await supabase.from('players').select('*').order('id');
  render(players);

  const { data: settings } = await supabase.from('settings').select('*').single();
  if (settings) {
    redTeamName.textContent = settings.red_team_name;
    blueTeamName.textContent = settings.blue_team_name;
  }
}

load();

supabase.channel('realtime')
  .on('postgres_changes', { event: '*', schema: 'public', table: 'players' }, load)
  .on('postgres_changes', { event: '*', schema: 'public', table: 'settings' }, load)
  .subscribe();
</script>

</body>
</html>





















