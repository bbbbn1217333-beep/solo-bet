<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<title>ì†”ë­ ë‚´ê¸° ì†¡ì¶œ íŒ¨ë„</title>

<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Pretendard:wght@400;600;700&family=Orbitron:wght@600&display=swap" rel="stylesheet">

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<style>
  * {
    box-sizing: border-box;
    font-family: 'Pretendard', sans-serif;
  }

  body {
    margin: 0;
    background: #000;
    color: #fff;
  }

  .container {
    display: flex;
    justify-content: space-between;
    padding: 20px;
    gap: 20px;
  }

  .team {
    width: 50%;
    border-radius: 16px;
    padding: 16px;
    background: #111;
  }

  .red { border: 2px solid #ff4d4d; }
  .blue { border: 2px solid #4da6ff; }

  .team-title {
    font-size: 32px;
    font-weight: 800;
    text-align: center;
    margin-bottom: 16px;
  }

  .red .team-title { color: #ff4d4d; }
  .blue .team-title { color: #4da6ff; }

  table {
    width: 100%;
    border-collapse: collapse;
  }

  th {
    font-size: 18px;
    padding-bottom: 10px;
  }

  .red th.streamer { color: #ff4d4d; }
  .blue th.streamer { color: #4da6ff; }

  th.win { color: #ffd700; }
  th.lose { color: #ffd700; }

  td {
    padding: 10px 6px;
    font-size: 20px;
    text-align: center;
  }

  td.name {
    text-align: left;
    padding-left: 12px;
    color: #fff;
    font-weight: 600;
  }

  /* 0ìŠ¹ 0íŒ¨ ì˜ì—­ */
  .score-box {
    font-family: 'Orbitron', sans-serif;
    color: #ffd700;
    font-size: 22px;
  }

  /* â­ í•­ìƒ ë°˜ì§ì´ëŠ” ì´í™íŠ¸ */
  .sparkle {
    animation: sparkle 1.6s infinite alternate;
  }

  @keyframes sparkle {
    from {
      text-shadow: 0 0 6px #ffd700;
    }
    to {
      text-shadow: 0 0 18px #ffef99;
    }
  }
</style>
</head>

<body>

<div class="container">
  <!-- RED TEAM -->
  <div class="team red">
    <div class="team-title" id="redTeamName">RED TEAM</div>
    <table>
      <thead>
        <tr>
          <th class="streamer">ìŠ¤íŠ¸ë¦¬ë¨¸</th>
          <th class="win">ìŠ¹ë¦¬</th>
          <th class="lose">íŒ¨ë°°</th>
        </tr>
      </thead>
      <tbody id="redBody"></tbody>
    </table>
  </div>

  <!-- BLUE TEAM -->
  <div class="team blue">
    <div class="team-title" id="blueTeamName">BLUE TEAM</div>
    <table>
      <thead>
        <tr>
          <th class="streamer">ìŠ¤íŠ¸ë¦¬ë¨¸</th>
          <th class="win">ìŠ¹ë¦¬</th>
          <th class="lose">íŒ¨ë°°</th>
        </tr>
      </thead>
      <tbody id="blueBody"></tbody>
    </table>
  </div>
</div>

<script>
/* ğŸ”‘ Supabase ì •ë³´ */
const supabase = window.supabase.createClient(
  'YOUR_SUPABASE_URL',
  'YOUR_SUPABASE_ANON_KEY'
);

/* ë Œë” í•¨ìˆ˜ */
function renderPlayers(players) {
  const red = document.getElementById('redBody');
  const blue = document.getElementById('blueBody');

  red.innerHTML = '';
  blue.innerHTML = '';

  players.forEach(p => {
    const row = document.createElement('tr');
    row.innerHTML = `
      <td class="name">${p.nickname}</td>
      <td>
        <div class="score-box sparkle">
          ${p.win}ìŠ¹
        </div>
      </td>
      <td>
        <div class="score-box sparkle">
          ${p.lose}íŒ¨
        </div>
      </td>
    `;

    if (p.team === 'RED') red.appendChild(row);
    if (p.team === 'BLUE') blue.appendChild(row);
  });
}

/* ì´ˆê¸° ë¡œë“œ */
async function load() {
  const { data: players } = await supabase
    .from('players')
    .select('*')
    .order('id');

  renderPlayers(players);

  const { data: settings } = await supabase
    .from('settings')
    .select('*')
    .single();

  if (settings) {
    document.getElementById('redTeamName').textContent = settings.red_team_name;
    document.getElementById('blueTeamName').textContent = settings.blue_team_name;
  }
}

load();

/* ğŸ”´ ì‹¤ì‹œê°„ ë°˜ì˜ */
supabase.channel('realtime')
  .on(
    'postgres_changes',
    { event: '*', schema: 'public', table: 'players' },
    load
  )
  .on(
    'postgres_changes',
    { event: '*', schema: 'public', table: 'settings' },
    load
  )
  .subscribe();
</script>

</body>
</html>





















